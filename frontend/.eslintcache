[{"C:\\Users\\berna\\hutown\\frontend\\src\\index.js":"1","C:\\Users\\berna\\hutown\\frontend\\src\\App.js":"2","C:\\Users\\berna\\hutown\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\berna\\hutown\\frontend\\src\\components\\header\\Header.js":"4","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Cursor\\Cursor.js":"5","C:\\Users\\berna\\hutown\\frontend\\src\\components\\main\\Main.js":"6","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Contact\\Contact.js":"7","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Shop\\Shop.js":"8","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Product\\Product.js":"9","C:\\Users\\berna\\hutown\\frontend\\src\\store.js":"10","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\productReducers.js":"11","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\productConstants.js":"12","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\productActions.js":"13","C:\\Users\\berna\\hutown\\frontend\\src\\components\\login\\login.js":"14","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\userReducers.js":"15","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\userConstant.js":"16","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\userActions.js":"17","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Modal\\modal.js":"18","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Header\\Header.js":"19","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Main\\Main.js":"20","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Login\\login.js":"21","C:\\Users\\berna\\hutown\\frontend\\src\\components\\FirstPhoto\\FirstPhoto.js":"22","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Gestion\\Gestion.js":"23","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\pageActions.js":"24","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\pageReducers.js":"25","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\pageConstants.js":"26","C:\\Users\\berna\\hutown\\frontend\\src\\components\\GuestPage\\GuestPage.js":"27","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ThirdPage\\ThirdPage.js":"28","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Tableau\\Tableau.js":"29","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Panier\\Panier.js":"30","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\cartReducers.js":"31","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\cartConstants.js":"32","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\cartActions.js":"33","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\ModalPaiement.js":"34","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\BillingDetailsFields.jsx":"35","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\SubmitButton.jsx":"36","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\CheckoutError.jsx":"37","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\Row.jsx":"38","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\FormField.jsx":"39","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\Rowcard.jsx":"40","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\ErrorPayment.js":"41","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\SuccessPayment.js":"42","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Footer.js":"43","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Mentions.js":"44","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Utilisation.js":"45","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Vente.js":"46"},{"size":733,"mtime":1611317891287,"results":"47","hashOfConfig":"48"},{"size":2482,"mtime":1614068734880,"results":"49","hashOfConfig":"48"},{"size":375,"mtime":1611317891290,"results":"50","hashOfConfig":"48"},{"size":1070,"mtime":1611215906980,"results":"51","hashOfConfig":"48"},{"size":697,"mtime":1611317891264,"results":"52","hashOfConfig":"48"},{"size":562,"mtime":1610637980157,"results":"53","hashOfConfig":"48"},{"size":3833,"mtime":1614063923076,"results":"54","hashOfConfig":"48"},{"size":2954,"mtime":1614091876315,"results":"55","hashOfConfig":"48"},{"size":5894,"mtime":1614091876315,"results":"56","hashOfConfig":"48"},{"size":1153,"mtime":1612252588151,"results":"57","hashOfConfig":"48"},{"size":2114,"mtime":1611317891289,"results":"58","hashOfConfig":"48"},{"size":742,"mtime":1611317891279,"results":"59","hashOfConfig":"48"},{"size":2268,"mtime":1611317891260,"results":"60","hashOfConfig":"48"},{"size":1586,"mtime":1611218632588,"results":"61","hashOfConfig":"48"},{"size":523,"mtime":1611317891290,"results":"62","hashOfConfig":"48"},{"size":208,"mtime":1611317891283,"results":"63","hashOfConfig":"48"},{"size":763,"mtime":1611317891260,"results":"64","hashOfConfig":"48"},{"size":5982,"mtime":1614089730457,"results":"65","hashOfConfig":"48"},{"size":4173,"mtime":1613989911556,"results":"66","hashOfConfig":"48"},{"size":5352,"mtime":1614093012412,"results":"67","hashOfConfig":"48"},{"size":1601,"mtime":1612273124148,"results":"68","hashOfConfig":"48"},{"size":2267,"mtime":1614091876309,"results":"69","hashOfConfig":"48"},{"size":3098,"mtime":1613504564587,"results":"70","hashOfConfig":"48"},{"size":1747,"mtime":1612110563161,"results":"71","hashOfConfig":"48"},{"size":1522,"mtime":1612107461164,"results":"72","hashOfConfig":"48"},{"size":500,"mtime":1612107360482,"results":"73","hashOfConfig":"48"},{"size":2255,"mtime":1614091876315,"results":"74","hashOfConfig":"48"},{"size":2239,"mtime":1614091876309,"results":"75","hashOfConfig":"48"},{"size":6170,"mtime":1614091876315,"results":"76","hashOfConfig":"48"},{"size":6805,"mtime":1614091876315,"results":"77","hashOfConfig":"48"},{"size":940,"mtime":1612267729776,"results":"78","hashOfConfig":"48"},{"size":371,"mtime":1612265644782,"results":"79","hashOfConfig":"48"},{"size":614,"mtime":1612270905873,"results":"80","hashOfConfig":"48"},{"size":9899,"mtime":1613989058810,"results":"81","hashOfConfig":"48"},{"size":1071,"mtime":1613985122227,"results":"82","hashOfConfig":"48"},{"size":539,"mtime":1609883463000,"results":"83","hashOfConfig":"48"},{"size":1807,"mtime":1613411342135,"results":"84","hashOfConfig":"48"},{"size":171,"mtime":1613487916589,"results":"85","hashOfConfig":"48"},{"size":984,"mtime":1613984514212,"results":"86","hashOfConfig":"48"},{"size":217,"mtime":1613488023266,"results":"87","hashOfConfig":"48"},{"size":161,"mtime":1613545844659,"results":"88","hashOfConfig":"48"},{"size":296,"mtime":1613546234796,"results":"89","hashOfConfig":"48"},{"size":566,"mtime":1614068745302,"results":"90","hashOfConfig":"48"},{"size":10194,"mtime":1614065742980,"results":"91","hashOfConfig":"48"},{"size":35680,"mtime":1614068567871,"results":"92","hashOfConfig":"48"},{"size":16198,"mtime":1614069300716,"results":"93","hashOfConfig":"48"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},"xwc0lc",{"filePath":"97","messages":"98","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"103","usedDeprecatedRules":"104"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"104"},{"filePath":"109","messages":"110","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"96"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"126","usedDeprecatedRules":"104"},{"filePath":"127","messages":"128","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"129","messages":"130","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"135","messages":"136","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"143","usedDeprecatedRules":"96"},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"152","messages":"153","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"154","usedDeprecatedRules":"96"},{"filePath":"155","messages":"156","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"157","usedDeprecatedRules":"96"},{"filePath":"158","messages":"159","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"160","usedDeprecatedRules":"96"},{"filePath":"161","messages":"162","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"163","usedDeprecatedRules":"96"},{"filePath":"164","messages":"165","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"166","messages":"167","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"168","messages":"169","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"170"},{"filePath":"171","messages":"172","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"173","usedDeprecatedRules":"96"},{"filePath":"174","messages":"175","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"176","messages":"177","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"178","messages":"179","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"180","messages":"181","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"182","messages":"183","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"184","messages":"185","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"186","messages":"187","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"188","messages":"189","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"190","messages":"191","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"192","messages":"193","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"194","messages":"195","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},{"filePath":"196","messages":"197","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"96"},"C:\\Users\\berna\\hutown\\frontend\\src\\index.js",[],["198","199"],"C:\\Users\\berna\\hutown\\frontend\\src\\App.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\header\\Header.js",["200"],"import React from \"react\";\r\nimport { logout } from '../../actions/userActions'\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport './header.css'\r\n\r\nconst Header = () => {\r\n\r\n    const userLogin = useSelector(state => state.userLogin);\r\n    const {userInfo} =userLogin;\r\n    const dispatch = useDispatch();\r\n\r\n    //Gestion de la déconnexion de l'utilisateur.\r\n    const handleLogout = () => {\r\n        dispatch(logout());\r\n    }\r\n\r\n    return  ( \r\n        <div className=\"navbar\">\r\n            <div className=\"logo\">\r\n               <a href='/'>HUTOWN</a> \r\n            </div>\r\n            <ul className=\"nav\">\r\n                <li><a href='/'>Notre travail</a></li>\r\n                <li><a href=\"/shop\">Shop</a></li>\r\n                <li><a href='/contact'>Contact</a></li>\r\n                <li><a href=\"\"><i className=\"fab fa-instagram\"></i></a></li>\r\n            { userInfo &&\r\n                <li><a href=\"/\" className=\"logout\" onClick={handleLogout}>Logout</a></li>\r\n            }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header; ",["201","202"],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Cursor\\Cursor.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\main\\Main.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Contact\\Contact.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Shop\\Shop.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Product\\Product.js",["203"],"import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport { Image } from 'cloudinary-react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {detailsProduct, deleteProduct} from '../../actions/productActions'\r\nimport './Product.css';\r\n\r\n\r\nconst Product = (props) => {\r\n\r\n    const [ imageIds, setImageIds ] = useState([]);\r\n    const [ size, setSize ] = useState('');\r\n\r\n    const productDetails = useSelector(state => state.productDetails);\r\n    const {products, loading, error} = productDetails;\r\n\r\n    const userLogin = useSelector(state => state.userLogin);\r\n    const {userInfo} =userLogin;\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const productDelete = useSelector(state => state.productDelete);\r\n    const {loading : loadingDelete, success: successDelete, error: errorDelete} = productDelete;\r\n\r\n    const [ defaultPrice, setDefaultPrice ] = useState('')\r\n    const mql = window.matchMedia('(max-width: 600px)');\r\n\r\n\r\n    const deleteImage = async (imageId) => {\r\n        console.log(imageId);\r\n        try {\r\n            await axios.post('/api/destroy', {imageId}, {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            loadImages();\r\n            //alert('Suppression réussie')\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/imagesShop');\r\n            const data = await res.data;\r\n            setImageIds(data)\r\n        } catch (err) {\r\n            console.error(err); \r\n        }\r\n    };\r\n\r\n    const [ qte, setQte ] =useState('1');\r\n\r\n    useEffect(() => {\r\n        dispatch(detailsProduct(props.match.params.id));\r\n        loadImages();\r\n    },[props.match.params.id, dispatch])\r\n\r\n\r\n    const deleteHandler = (products, id) => {\r\n       \r\n        dispatch(deleteProduct(products._id));\r\n        deleteImage(id)\r\n        history.push('/shop');\r\n    }\r\n\r\n    const handleChangeSize = (e) => {\r\n        let target = e.target.value;\r\n        if(target === 'priceSm'){\r\n            setDefaultPrice(products.priceSm);\r\n            setSize('15x15');\r\n        }else if(target === 'priceM'){\r\n            setDefaultPrice(products.priceM);\r\n            setSize('20x20');\r\n        }\r\n        else if(target === 'priceL'){\r\n            setDefaultPrice(products.priceL);\r\n            setSize('30x45');\r\n        } else if(target === ''){\r\n            setDefaultPrice('');\r\n        }else {\r\n            setDefaultPrice(products.priceXl);\r\n            setSize('40x60');\r\n        }\r\n    }\r\n\r\n    const addItem = (id) => {\r\n        \r\n        let msgCart = document.getElementById('validation-add-cart')\r\n        let cartList = []\r\n        let key = id+'/'+size;\r\n        cartList.push(id+'/'+qte+'-'+size+'*'+defaultPrice);\r\n        localStorage.getItem(key)\r\n        localStorage.setItem(key, JSON.stringify(cartList));\r\n        msgCart.style.opacity=1;\r\n        setTimeout(() => {\r\n            window.location.reload(false);\r\n        }, 11500);\r\n}\r\n     \r\n\r\n    return(\r\n        loading? <div>Loading</div>:\r\n        error? <div>{error}</div>:\r\n        loadingDelete? <div>Loading delete</div>:\r\n        errorDelete? <div>{error}</div>:\r\n        <div className=\"product-single\">\r\n            <div id=\"validation-add-cart\"><h2>Cet article a bien été ajouté au panier</h2></div>\r\n            <div className=\"single-path\">\r\n                <h2>Shop <i className=\"fas fa-chevron-right\"></i>{products.name}</h2>\r\n            </div>\r\n            <div className=\"single-body\">\r\n                \r\n                <div className=\"image-container\">\r\n                {\r\n                    imageIds.map( imageId => {\r\n                        return JSON.stringify(imageId).includes(products.name) ?\r\n                       <div key={products._id}> \r\n                       <Image\r\n                            onClick={() => console.log(imageId)}\r\n                            className=\"product-img\"\r\n                            publicId={imageId}\r\n                            cloudName='drefurx4l'\r\n                        />{userInfo &&\r\n                            <button onClick={() => deleteHandler(products, imageId)}>DELETE</button>\r\n                        }</div> :'' })\r\n                }\r\n                </div>\r\n                <form className=\"product-contenu\" onSubmit={() => addItem(products._id)}>\r\n                    <p className='product-name'>{products.name}</p>\r\n                    <div className=\"product-details\">\r\n                        <select name=\"taille\" id=\"\" onChange={handleChangeSize} required>\r\n                            <option value=\"\">Tailles disponibles</option>\r\n                            <option value=\"priceSm\">15x15</option>\r\n                            <option value=\"priceM\">20x20</option>\r\n                            <option value=\"priceL\">30x45</option>\r\n                            <option value=\"priceXl\">40x60</option>\r\n                        </select>\r\n                        <span>QUANTITÉ : </span> { mql.matches ? <input inputmode=\"numeric\" pattern=\"[0-9]*\" type=\"text\" defaultValue='1' min='0' onChange={(e) => setQte(e.target.value)}/> : <input type=\"number\" defaultValue='1' min='0' onChange={(e) => setQte(e.target.value)}/> }\r\n                    </div>\r\n                    <div className=\"details-price\">\r\n                        {defaultPrice ?\r\n                        <span>{defaultPrice * qte} €</span>:''\r\n                        }\r\n                    </div>\r\n                    <p className=\"product-description\">{products.description}</p>\r\n                    <button className=\"product-cart\">Ajouter au panier</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;","C:\\Users\\berna\\hutown\\frontend\\src\\store.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\productReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\productConstants.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\productActions.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\login\\login.js",["204"],"import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { login } from '../../actions/userActions';\r\nimport './login.css'\r\n\r\nconst Login = (props) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const userLogin = useSelector( state => state.userLogin);\r\n    const { loading, userInfo, error} = userLogin;\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        if(userInfo){\r\n          props.history.push(\"/\")\r\n        }\r\n    },[userInfo])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(login(email, password));    \r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login-box\">\r\n                { loading && <div>Loading...</div> }\r\n                { error && <div>{error}</div> }\r\n                <form onSubmit={submitHandler}>\r\n                    <div className=\"email\">\r\n                        <p>EMAIL</p>\r\n                        <input type=\"text\" onChange={(e) => setEmail(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"password\">\r\n                        <p>PASSWORD</p>\r\n                        <input type=\"text\" onChange={(e) => setPassword(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"login-btn\">\r\n                        <button type=\"submit\">Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\userReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\userConstant.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\userActions.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Modal\\modal.js",["205"],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Header\\Header.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Main\\Main.js",["206","207"],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Login\\login.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\FirstPhoto\\FirstPhoto.js",["208","209"],"import React, { useEffect, useState } from 'react';\r\nimport './FirstPhoto.css'\r\nimport { Image } from 'cloudinary-react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listPages } from '../../actions/pageActions'\r\nimport axios from 'axios';\r\n\r\nconst FirstPhoto = () => {\r\n    \r\n    const pageList = useSelector(state => state.pageList);\r\n    const { pages, loading, error } = pageList;\r\n    \r\n    const [imageIds, setImageIds] = useState();\r\n    const regex = /^first/;\r\n    \r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/images/');\r\n            const data = await res.data;\r\n            setImageIds(data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        console.log(imageIds);\r\n        dispatch(listPages());\r\n        loadImages();\r\n    }, [dispatch]);\r\n\r\n    return (\r\n            loading? <div>Loading...</div>:\r\n            error? <div>{error}</div>:\r\n        <div className=\"first-photo\">\r\n           \r\n           <div className=\"texte-photos\">\r\n            {pages.map(page  => {\r\n                return page.category ==='first' ?\r\n                    <div className=\"photos\" key={page._id}>\r\n                        <h1>{page.title}</h1>\r\n                        <p className=\"descriptionPage\">{page.description}</p>\r\n                    </div> : ''\r\n            }\r\n                )}\r\n\r\n            </div>\r\n\r\n            <div className=\"picturesUpload\">\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regex.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        className=\"photoUpload\"\r\n                        cloudName='hippolythe'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n                     </div>\r\n            <div className=\"btn-to-top\">\r\n                <a href=\"#\"><i className=\"fas fa-arrow-up\"></i></a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FirstPhoto;","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Gestion\\Gestion.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\pageActions.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\pageReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\pageConstants.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\GuestPage\\GuestPage.js",["210"],"import React, { useEffect, useState } from 'react';\r\nimport '../FirstPhoto/FirstPhoto.css'\r\nimport { Image } from 'cloudinary-react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listPages } from '../../actions/pageActions'\r\nimport axios from 'axios';\r\n\r\nconst GuestPage = () => {\r\n    \r\n    const pageList = useSelector(state => state.pageList);\r\n    const { pages, loading, error } = pageList;\r\n    \r\n    const [imageIds, setImageIds] = useState();\r\n    const regex = /^second/;\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/images/');\r\n            const data = await res.data;\r\n            setImageIds(data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        dispatch(listPages());\r\n        loadImages();\r\n    }, [dispatch]);\r\n\r\n    return (\r\n            loading? <div>Loading...</div>:\r\n            error? <div>{error}</div>:\r\n        <div className=\"first-photo\">\r\n           \r\n           <div className=\"texte-photos\">\r\n            {pages.map(page  => {\r\n                return page.category ==='second' ?\r\n                    <div className=\"photos\" key={page._id}>\r\n                        <h1>{page.title}</h1>\r\n                        <p className=\"descriptionPage\">{page.description}</p>\r\n                    </div> : ''\r\n            }\r\n                )}\r\n\r\n            </div>\r\n\r\n            <div className=\"picturesUpload\">\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regex.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        className=\"photoUpload\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n                     </div>\r\n            <div className=\"btn-to-top\">\r\n                <a href=\"#\"><i className=\"fas fa-arrow-up\"></i></a>\r\n            </div>\r\n            \r\n        </div>\r\n    );\r\n};\r\n\r\nexport default GuestPage;","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ThirdPage\\ThirdPage.js",["211"],"import React, { useEffect, useState } from 'react';\r\nimport '../FirstPhoto/FirstPhoto.css'\r\nimport { Image } from 'cloudinary-react'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { listPages } from '../../actions/pageActions'\r\nimport axios from 'axios';\r\n\r\nconst ThirdPage = () => {\r\n    \r\n    const pageList = useSelector(state => state.pageList);\r\n    const { pages, loading, error } = pageList;\r\n    \r\n    const [imageIds, setImageIds] = useState();\r\n    const regex = /^third/;\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/images/');\r\n            const data = await res.data;\r\n            setImageIds(data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        dispatch(listPages());\r\n        loadImages();\r\n    }, [dispatch]);\r\n\r\n    return (\r\n            loading? <div>Loading...</div>:\r\n            error? <div>{error}</div>:\r\n        <div className=\"first-photo\">\r\n           \r\n           <div className=\"texte-photos\">\r\n            {pages.map(page  => {\r\n                return page.category ==='third' ?\r\n                    <div className=\"photos\" key={page._id}>\r\n                        <h1>{page.title}</h1>\r\n                        <p className=\"descriptionPage\">{page.description}</p>\r\n                    </div> : ''\r\n            }\r\n                )}\r\n\r\n            </div>\r\n\r\n            <div className=\"picturesUpload\">\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regex.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        className=\"photoUpload\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n                     </div>\r\n            <div className=\"btn-to-top\">\r\n                <a href=\"#\"><i className=\"fas fa-arrow-up\"></i></a>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ThirdPage;","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Tableau\\Tableau.js",["212","213"],"import React, { useState, useEffect } from 'react';\r\nimport { Image } from 'cloudinary-react'\r\nimport axios from 'axios'\r\nimport './Tableau.css'\r\n\r\nconst Tableau = () => {\r\n\r\n    const [ fileInputState, setFileInputState] = useState('');\r\n    const [ successMsg, setSuccessMsg ] = useState('')\r\n    const [ errMsg, setErrMsg ] = useState('')\r\n    const [ folder, setFolder ] = useState('');\r\n    const [ selectedFile, setSelectedFile] = useState();\r\n    const [ previewSource, setPreviewSource] = useState('');\r\n\r\n    const [imageIds, setImageIds] = useState();\r\n    const regex = /^first/;\r\n    const regexSecond = /^second/;\r\n    const regexThird = /^third/;\r\n\r\n\r\n    const handleFileInputChange = (e) => {\r\n        const file = e.target.files[0];\r\n        previewFile(file);\r\n        setSelectedFile(file);\r\n        setFileInputState(e.target.value);\r\n    };\r\n\r\n    const previewFile = (file) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n            setPreviewSource(reader.result);\r\n        };\r\n    };\r\n\r\n    const handleSubmitFile = (e) => {\r\n        e.preventDefault();\r\n        if (!selectedFile) return;\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(selectedFile);\r\n        reader.onloadend = () => {\r\n            uploadImage(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            console.error('AHHHHHHHH!!');\r\n            setErrMsg('something went wrong!');\r\n        };\r\n    };\r\n\r\n    const uploadImage = async (base64EncodedImage) => {\r\n        try {\r\n            await axios.post('/api/upload', JSON.stringify({ data: base64EncodedImage,\r\n            cat: folder }), {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            setFileInputState('');\r\n            setPreviewSource('');\r\n            setSuccessMsg('Image uploaded successfully');\r\n            setTimeout(function(){\r\n                window.location.reload(false);}, 1000);\r\n                alert(\"Chargement de l'image effectué\")\r\n            \r\n        } catch (err) {\r\n            console.error(err);\r\n            setErrMsg('Something went wrong!');\r\n        }\r\n    };\r\n\r\n    const deleteImage = async (imageId) => {\r\n        console.log(imageId);\r\n        try {\r\n            await axios.post('/api/destroy', {imageId}, {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            loadImages();\r\n            alert('Suppression réussie')\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/images/');\r\n            const data = await res.data;\r\n            setImageIds(data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        loadImages();\r\n    }, []);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"gestion-tableau\">\r\n\r\n                <form className=\"picture-section\" onSubmit={handleSubmitFile}>\r\n                    <h2>PHOTOS</h2>\r\n                    <div className=\"input-picture\">\r\n                        <input type=\"file\" name=\"\" id=\"\" value={fileInputState} onChange={handleFileInputChange}/>\r\n                        <button type=\"submit\">VALIDER</button>\r\n                    </div>\r\n                    <div className=\"select-cat\">\r\n                    <select name=\"\" id=\"\" value={folder} onChange={ (e) => setFolder(e.target.value)}>\r\n                            <option>Choisir une catégorie</option>\r\n                            <option value=\"first\">Première page</option>\r\n                            <option value=\"second\">Deuxième page</option>\r\n                            <option value=\"third\">Troisième page</option>\r\n                        </select>\r\n                    </div>\r\n                    {previewSource &&\r\n                <img src={previewSource} alt=\"\"/>\r\n            }\r\n\r\n                </form>\r\n\r\n\r\n            <div className=\"firstPageTab\">PREMIERE PAGE</div>\r\n            <div className='tableau'>\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regex.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        onClick={() => deleteImage(imageId)}\r\n                        className=\"photo-tableau\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n            </div>\r\n            <div className=\"firstPageTab\">DEUXIEME PAGE</div>\r\n            <div className='tableau'>\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regexSecond.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        onClick={() => deleteImage(imageId)}\r\n                        className=\"photo-tableau\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n            </div>\r\n            <div className=\"firstPageTab\">TROISIEME PAGE</div>\r\n            <div className='tableau'>\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regexThird.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        onClick={() => deleteImage(imageId)}\r\n                        className=\"photo-tableau\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n\r\n        \r\n    );\r\n};\r\n\r\nexport default Tableau;","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Panier\\Panier.js",["214"],"import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Image } from 'cloudinary-react'\r\n\r\n\r\nimport ModalPaiement from '../ModalPaiement/ModalPaiement'\r\nimport './Panier.css'\r\n\r\nconst Panier = () => {\r\n\r\n    const [ imageIds, setImageIds ] = useState([]);\r\n    const [ products, setProducts ] = useState([])\r\n    \r\n\r\n    let values = [], keys = Object.keys(localStorage), i = keys.length;\r\n        while ( i-- ) {\r\n            values.push( localStorage.getItem(keys[i]) );\r\n        }\r\n    const arrayOfSize = []\r\n    //Retourne les tailles dans un array.\r\n    values.map( nb => {\r\n        arrayOfSize.push(nb.slice(29).replace(/[[\\]\"]+/g,'').split('*').splice(0,1));\r\n        return arrayOfSize;\r\n    })\r\n\r\n    const arrayOfPrice = []\r\n    //Retourne les tailles dans un array.\r\n    values.map( nb => {\r\n        arrayOfPrice.push(nb.slice(29).replace(/[[\\]\"]+/g,'').split('*').pop());\r\n        for(let i=0; i<arrayOfPrice.length;i++) arrayOfPrice[i] = parseInt(arrayOfPrice[i], 10);\r\n        return arrayOfPrice;\r\n    })\r\n    const arrayOfQte= []\r\n    //Retourne un tableau avec les quantités des produits dans le panier \r\n    values.map( qte => {\r\n        arrayOfQte.push(qte.slice(27).replace(/[[\\]\"]+/g,'').split('-').splice(0,1));\r\n        return arrayOfQte;\r\n    })\r\n\r\n    let sum = 0;\r\n    for(let i=0; i< arrayOfPrice.length; i++) {\r\n    sum += arrayOfPrice[i]*arrayOfQte[i];\r\n}\r\n\r\n\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/imagesShop');\r\n            const data = await res.data;\r\n            setImageIds(data)\r\n        } catch (err) {\r\n            console.error(err); \r\n        }\r\n    };\r\n    const deleteItemCart = (id, size) => {\r\n        localStorage.removeItem(id+'/'+size);\r\n        window.location.reload(false);\r\n    }\r\n\r\n    const openModalPaiement = () => {\r\n        let modal = document.querySelector('.modal-paiement-container');\r\n        modal.style.display=\"block\";\r\n    }\r\n\r\n    const loadCart = async () => {\r\n        try {\r\n            const arrayOfId = []\r\n            //Retourne un array avec les id des item dans le panier\r\n            let idItem = values.join().substring(1).replace(/[[\\]\"]+/g,'').split(',');\r\n            idItem.map( id =>{\r\n                arrayOfId.push(id.split('/')[0].split(','))\r\n                return arrayOfId;\r\n            })\r\n            let productsList = arrayOfId.map(async (id) => { \r\n                const result =  await axios.get('/api/products/' +id)\r\n                    return result.data;\r\n                })\r\n                \r\n            productsList = await Promise.all(productsList);\r\n            setProducts(productsList)\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n \r\n    useEffect(()  => {\r\n        console.log(values);\r\n        loadCart();\r\n        loadImages();\r\n    }, [])\r\n \r\n    return (\r\n        <div className=\"panier-container\">\r\n                <ModalPaiement/>\r\n            <div className=\"liste-panier\">\r\n                  <h3>\r\n                    PANIER\r\n                  </h3>\r\n                      <div className=\"liste-item\" >\r\n                        <ul>\r\n                        { values.length === 0 ?\r\n                        '':\r\n                            <li>\r\n                                <div className=\"nom-categorie-panier\">\r\n                                    <h4 className=\"nom-item-panier\">PRODUIT</h4>\r\n                                    <h4 className=\"image-item-panier\">IMAGE</h4>\r\n                                    <h4 className=\"taille-item-panier\">TAILLE</h4>\r\n                                    <h4 className=\"qte-item-panier\">QTE</h4>\r\n                                    <h4 className=\"prix-item-panier\">PRIX</h4>\r\n                                </div>\r\n                            </li>}\r\n                            { values.length === 0 ?\r\n                            <div className=\"empty-cart\">\r\n                                <h2>Votre panier est vide</h2>\r\n                                <h2>Venez visiter notre shop !</h2>\r\n                                <h2>C'est par ici <a href=\"/shop\"><i className=\"fas fa-store\"></i></a></h2>\r\n                            </div>\r\n                            : products.map(item =>\r\n                            <li className=\"ligne-item\" key={Math.floor(Math.random() * Math.floor(15000))}>\r\n                                <div className=\"liste-item-panier\">\r\n                                    <div className=\"title-item-panier\">\r\n                                       <span onClick={() => deleteItemCart(item._id, arrayOfSize[products.indexOf(item)])}>x</span> {item.name}\r\n                                    </div>\r\n                                    <div className=\"panier-image-container\">\r\n                                        {\r\n                                            imageIds.map( imageId => {\r\n                                                return JSON.stringify(imageId).includes(item.name) ?\r\n                                            <Image  \r\n                                                    key={imageId}\r\n                                                    className=\"panier-image\"\r\n                                                    publicId={imageId}\r\n                                                    cloudName='drefurx4l'\r\n                                                />:'' })\r\n                                        }\r\n                                    </div>\r\n                                    <div className=\"size-item-panier\">\r\n                                        <span>{arrayOfSize[products.indexOf(item)]}</span>\r\n                                    </div>\r\n                                    <div className=\"qte-item-panier\">\r\n                                        <span>{arrayOfQte[products.indexOf(item)]}</span>\r\n                                    </div>\r\n                                    <div className=\"price-item-panier\">\r\n                                        <span>{arrayOfPrice[products.indexOf(item)]*arrayOfQte[products.indexOf(item)]} €</span>\r\n                                    </div>\r\n                                </div>\r\n                            </li>)\r\n                }\r\n                        </ul>\r\n                      </div>\r\n        </div>\r\n    { values.length === 0 ?\r\n                        '':    \r\n                       <div className=\"validation-paiement\">\r\n                            <h3 className=\"totalPrice\">\r\n                            TOTAL : {sum} €\r\n                            </h3>\r\n                            <button className=\"btn-paiement\" onClick={openModalPaiement}>PAIEMENT</button>\r\n                        </div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Panier;","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\cartReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\cartConstants.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\cartActions.js",[],["215","216"],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\ModalPaiement.js",["217"],"import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios'\r\nimport styled from \"@emotion/styled\";\r\nimport { CardElement, useStripe ,useElements } from \"@stripe/react-stripe-js\";\r\nimport Row from \"./prebuilt/Row\";\r\nimport BillingDetailsFields from \"./prebuilt/BillingDetailsFields\";\r\nimport SubmitButton from \"./prebuilt/SubmitButton\";\r\nimport CheckoutError from \"./prebuilt/CheckoutError\";\r\nimport './ModalPaiement.css'\r\nimport Rowcard from './prebuilt/Rowcard';\r\nimport ErrorPayment from './ErrorPayment';\r\nimport SuccessPayment from './SuccessPayment';\r\n\r\n\r\n\r\nconst CardElementContainer = styled.div`\r\n  height: 40px;\r\n  display: flex;\r\n  align-items: center;\r\n  & .StripeElement {\r\n    width: 100%;\r\n    padding: 15px;\r\n  }\r\n`;\r\n\r\n\r\n\r\n\r\nconst ModalPaiement = () => {\r\n\r\n    const [ deliveryPrice, setDeliveryPrice] = useState(0);\r\n    const [isProcessing, setProcessingTo] = useState(false);\r\n    const [checkoutError, setCheckoutError] = useState();\r\n\r\n    const stripe = useStripe();\r\n    const elements = useElements();\r\n    \r\n    const [ products, setProducts ] = useState([])\r\n\r\n    let values = [], keys = Object.keys(localStorage), i = keys.length;\r\n        while ( i-- ) {\r\n            values.push( localStorage.getItem(keys[i]) );\r\n        }\r\n    const arrayOfSize = []\r\n    //Retourne les tailles dans un array.\r\n    values.map( nb => {\r\n        arrayOfSize.push(nb.slice(29).replace(/[[\\]\"]+/g,'').split('*').splice(0,1));\r\n        return arrayOfSize;\r\n    })\r\n    const arrayOfPrice = []\r\n    //Retourne les tailles dans un array.\r\n    values.map( nb => {\r\n        arrayOfPrice.push(nb.slice(29).replace(/[[\\]\"]+/g,'').split('*').pop());\r\n        for(let i=0; i<arrayOfPrice.length;i++) arrayOfPrice[i] = parseInt(arrayOfPrice[i], 10);\r\n        return arrayOfPrice;\r\n    })\r\n    const arrayOfQte= []\r\n    //Retourne un tableau avec les quantités des produits dans le panier \r\n    values.map( qte => {\r\n        arrayOfQte.push(qte.slice(27).replace(/[[\\]\"]+/g,'').split('-').splice(0,1));\r\n        return arrayOfQte;\r\n    })\r\n    let sum = 0;\r\n    for(let i=0; i< arrayOfPrice.length; i++) {\r\n    sum += arrayOfPrice[i]*arrayOfQte[i];\r\n    }\r\n\r\n    let sumDelivery = sum + parseInt(deliveryPrice);\r\n\r\n    const closeModal = () => {\r\n      let modal = document.querySelector('.modal-paiement-container')\r\n      document.body.style.position = '';\r\n      document.body.style.top = '';\r\n      modal.style.display='none';\r\n    }\r\n  \r\n\r\n    const loadCart = async () => {\r\n      try {\r\n          const arrayOfId = []\r\n          //Retourne un array avec les id des item dans le panier\r\n          let idItem = values.join().substring(1).replace(/[[\\]\"]+/g,'').split(',');\r\n          idItem.map( id =>{\r\n              arrayOfId.push(id.split('/')[0].split(','))\r\n              return arrayOfId;\r\n          })\r\n          let productsList = arrayOfId.map(async (id) => { \r\n              const result =  await axios.get('/api/products/' +id)\r\n                  return result.data;\r\n              })\r\n              \r\n          productsList = await Promise.all(productsList);\r\n          setProducts(productsList)\r\n      } catch (error) {\r\n          console.log(error);\r\n      }\r\n  }\r\n\r\n  const closeModalPaiement = () => {\r\n    document.querySelector('.success-container').style.display=\"flex\"\r\n    setTimeout(() => {\r\n    let modal = document.querySelector('.modal-paiement-container');\r\n    modal.style.display=\"none\";\r\n    localStorage.clear();\r\n      window.location.reload(false);\r\n    }, 2050);\r\n}\r\n\r\n  const handleCardDetailsChange = ev => {\r\n    ev.error ? setCheckoutError(ev.error.message) : setCheckoutError();\r\n  };\r\n\r\n  const handleFormSubmit = async ev => {\r\n    ev.preventDefault();\r\n\r\n    const billingDetails = {\r\n      name: ev.target.name.value,\r\n      email: ev.target.email.value,\r\n      address: {\r\n        city: ev.target.city.value,\r\n        line1: ev.target.address.value,\r\n        state: ev.target.state.value,\r\n        postal_code: ev.target.zip.value\r\n      }\r\n    };\r\n\r\n    setProcessingTo(true);\r\n\r\n    const cardElement = elements.getElement(\"card\");\r\n    \r\n    try {\r\n      const { data: clientSecret } = await axios.post(\"/api/pay\", {\r\n        amount: sum * 100 + deliveryPrice,\r\n        receipt_email: billingDetails.email\r\n      });\r\n\r\n      const paymentMethodReq = await stripe.createPaymentMethod({\r\n        type: \"card\",\r\n        card: cardElement,\r\n        billing_details: billingDetails\r\n      });\r\n\r\n      if (paymentMethodReq.error) {\r\n        setCheckoutError(paymentMethodReq.error.message);\r\n        setProcessingTo(false);\r\n        return;\r\n      }\r\n\r\n      const { error } = await stripe.confirmCardPayment(clientSecret, {\r\n        payment_method: paymentMethodReq.paymentMethod.id\r\n      });\r\n      \r\n      closeModalPaiement();\r\n\r\n\r\n      if (error) {\r\n        setCheckoutError(error.message);\r\n        setProcessingTo(false);\r\n        return;\r\n      }\r\n\r\n    } catch (err) {\r\n      setCheckoutError(err.message);\r\n    }\r\n  };\r\n\r\n  const iframeStyles = {\r\n    base: {\r\n      color: \"black\",\r\n      fontSize: \"16px\",\r\n      iconColor: \"gray\",\r\n      \"::placeholder\": {\r\n        color: \"gray\"\r\n      }\r\n    },\r\n    invalid: {\r\n      iconColor: \"#FFC7EE\",\r\n      color: \"#FFC7EE\"\r\n    },\r\n    complete: {\r\n      iconColor: \"#cbf4c9\"\r\n    }\r\n  };\r\n\r\n  const cardElementOpts = {\r\n    iconStyle: \"solid\",\r\n    style: iframeStyles,\r\n    hidePostalCode: true\r\n  };\r\n\r\n\r\n\r\n\r\n  useEffect(() => {\r\n      loadCart();\r\n  }, []);\r\n\r\n  \r\n\r\n    return (\r\n        <div className=\"modal-paiement-container\">\r\n            <div className=\"paiement-container\">\r\n                <div className=\"first-block-paiement\">\r\n                    <div className=\"paiement-recap\">\r\n                        <div className=\"title-recap\">\r\n                            <h2>RECAP COMMANDE</h2>\r\n                            <div className=\"close-modal\">\r\n                    <i onClick={closeModal} className=\"far fa-window-close\"></i>\r\n                </div>\r\n                        </div>\r\n                    <ul>\r\n                            { products.length === 0 ?\r\n                            '':\r\n                                <li>\r\n                                    <div className=\"nom-categorie-panier\">\r\n                                        <h4 className=\"nom-item-panier\">PRODUIT</h4>\r\n                                        <h4 className=\"taille-item-panier\">TAILLE</h4>\r\n                                        <h4 className=\"qte-item-panier\">QTE</h4>\r\n                                        <h4 className=\"prix-item-panier\">PRIX</h4>\r\n                                    </div>\r\n                                </li>}\r\n                                { products.length === 0 ?\r\n                                <div>Le panier est vide</div>\r\n                                : products.map(item =>\r\n                                <li className=\"ligne-item\" key={Math.floor(Math.random() * Math.floor(15000))}>\r\n                                    <div className=\"liste-item-panier\">\r\n                                        <div className=\"title-item-panier\">\r\n                                            {item.name}\r\n                                        </div>\r\n                                        <div className=\"size-item-panier\">\r\n                                            <span>{arrayOfSize[products.indexOf(item)]}</span>\r\n                                        </div>\r\n                                        <div className=\"qte-item-panier\">\r\n                                            <span>{arrayOfQte[products.indexOf(item)]}</span>\r\n                                        </div>\r\n                                        <div className=\"price-item-panier\">\r\n                                            <span>{arrayOfPrice[products.indexOf(item)]*arrayOfQte[products.indexOf(item)]} €</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </li>)\r\n                    }\r\n                            </ul>\r\n                            <h3 className=\"totalPrice\">\r\n                            TOTAL : {sum} €\r\n                            </h3>\r\n                    </div>\r\n                </div>\r\n                <ErrorPayment/>\r\n                <SuccessPayment/>\r\n                <form id=\"payment-form\" className=\"paiement-information\" onSubmit={handleFormSubmit}>\r\n                  <h3>INFORMATIONS PERSONNELLES</h3>\r\n                  <Row>\r\n                   <BillingDetailsFields />\r\n                   <span>Pays (frais de livraison)</span>\r\n                    <select className=\"\" onChange={ (e) => setDeliveryPrice(e.target.value)}>\r\n                      <option value=\"0\">Choisir un pays</option>\r\n                      <option value='0' >France</option>\r\n                      <option value=\"4\">Europe</option>\r\n                      <option value=\"8\">Reste du monde</option>\r\n                    </select>\r\n                 </Row>\r\n                    \r\n                 \r\n                 <Rowcard>\r\n                   <CardElementContainer>\r\n                     <CardElement\r\n                       options={cardElementOpts}\r\n                       onChange={handleCardDetailsChange}\r\n                     />\r\n                   </CardElementContainer>\r\n                 </Rowcard>\r\n                 {checkoutError && <CheckoutError>{checkoutError}</CheckoutError>}\r\n                 <Row>\r\n                   {/* TIP always disable your submit button while processing payments */}\r\n                   <SubmitButton disabled={isProcessing || !stripe}>\r\n                     {isProcessing ? \"Processing...\" : `Payer ${sumDelivery}€`}\r\n                   </SubmitButton>\r\n                 </Row>\r\n                </form>\r\n                \r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ModalPaiement;","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\BillingDetailsFields.jsx",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\SubmitButton.jsx",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\CheckoutError.jsx",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\Row.jsx",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\FormField.jsx",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\prebuilt\\Rowcard.jsx",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\ErrorPayment.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ModalPaiement\\SuccessPayment.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Footer.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Mentions.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Utilisation.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Footer\\Vente.js",[],{"ruleId":"218","replacedBy":"219"},{"ruleId":"220","replacedBy":"221"},{"ruleId":"222","severity":1,"message":"223","line":26,"column":21,"nodeType":"224","endLine":26,"endColumn":32},{"ruleId":"218","replacedBy":"225"},{"ruleId":"220","replacedBy":"226"},{"ruleId":"227","severity":1,"message":"228","line":25,"column":46,"nodeType":"229","messageId":"230","endLine":25,"endColumn":59},{"ruleId":"231","severity":1,"message":"232","line":19,"column":7,"nodeType":"233","endLine":19,"endColumn":17,"suggestions":"234"},{"ruleId":"227","severity":1,"message":"235","line":20,"column":44,"nodeType":"229","messageId":"230","endLine":20,"endColumn":55},{"ruleId":"227","severity":1,"message":"236","line":6,"column":25,"nodeType":"229","messageId":"230","endLine":6,"endColumn":32},{"ruleId":"231","severity":1,"message":"237","line":81,"column":7,"nodeType":"233","endLine":81,"endColumn":30,"suggestions":"238"},{"ruleId":"231","severity":1,"message":"239","line":32,"column":8,"nodeType":"233","endLine":32,"endColumn":18,"suggestions":"240"},{"ruleId":"222","severity":1,"message":"223","line":67,"column":17,"nodeType":"224","endLine":67,"endColumn":29},{"ruleId":"222","severity":1,"message":"223","line":65,"column":17,"nodeType":"224","endLine":65,"endColumn":29},{"ruleId":"222","severity":1,"message":"223","line":65,"column":17,"nodeType":"224","endLine":65,"endColumn":29},{"ruleId":"227","severity":1,"message":"241","line":9,"column":13,"nodeType":"229","messageId":"230","endLine":9,"endColumn":23},{"ruleId":"227","severity":1,"message":"242","line":10,"column":13,"nodeType":"229","messageId":"230","endLine":10,"endColumn":19},{"ruleId":"231","severity":1,"message":"243","line":90,"column":8,"nodeType":"233","endLine":90,"endColumn":10,"suggestions":"244"},{"ruleId":"218","replacedBy":"245"},{"ruleId":"220","replacedBy":"246"},{"ruleId":"231","severity":1,"message":"247","line":196,"column":6,"nodeType":"233","endLine":196,"endColumn":8,"suggestions":"248"},"no-native-reassign",["249"],"no-negated-in-lhs",["250"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["249"],["250"],"no-unused-vars","'successDelete' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.","ArrayExpression",["251"],"'successSave' is assigned a value but never used.","'Cookies' is defined but never used.","React Hook useEffect has missing dependencies: 'imageIds' and 'third'. Either include them or remove the dependency array.",["252"],"React Hook useEffect has a missing dependency: 'imageIds'. Either include it or remove the dependency array.",["253"],"'successMsg' is assigned a value but never used.","'errMsg' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'loadCart' and 'values'. Either include them or remove the dependency array.",["254"],["249"],["250"],"React Hook useEffect has a missing dependency: 'loadCart'. Either include it or remove the dependency array.",["255"],"no-global-assign","no-unsafe-negation",{"desc":"256","fix":"257"},{"desc":"258","fix":"259"},{"desc":"260","fix":"261"},{"desc":"262","fix":"263"},{"desc":"264","fix":"265"},"Update the dependencies array to be: [props.history, userInfo]",{"range":"266","text":"267"},"Update the dependencies array to be: [dispatch, imageIds, mql.matches, third]",{"range":"268","text":"269"},"Update the dependencies array to be: [dispatch, imageIds]",{"range":"270","text":"271"},"Update the dependencies array to be: [loadCart, values]",{"range":"272","text":"273"},"Update the dependencies array to be: [loadCart]",{"range":"274","text":"275"},[566,576],"[props.history, userInfo]",[3006,3029],"[dispatch, imageIds, mql.matches, third]",[921,931],"[dispatch, imageIds]",[2875,2877],"[loadCart, values]",[5482,5484],"[loadCart]"]