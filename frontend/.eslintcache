[{"C:\\Users\\berna\\hutown\\frontend\\src\\index.js":"1","C:\\Users\\berna\\hutown\\frontend\\src\\App.js":"2","C:\\Users\\berna\\hutown\\frontend\\src\\reportWebVitals.js":"3","C:\\Users\\berna\\hutown\\frontend\\src\\components\\header\\Header.js":"4","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Cursor\\Cursor.js":"5","C:\\Users\\berna\\hutown\\frontend\\src\\components\\main\\Main.js":"6","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Contact\\Contact.js":"7","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Shop\\Shop.js":"8","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Product\\Product.js":"9","C:\\Users\\berna\\hutown\\frontend\\src\\store.js":"10","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\productReducers.js":"11","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\productConstants.js":"12","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\productActions.js":"13","C:\\Users\\berna\\hutown\\frontend\\src\\components\\login\\login.js":"14","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\userReducers.js":"15","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\userConstant.js":"16","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\userActions.js":"17","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Modal\\modal.js":"18","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Header\\Header.js":"19","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Main\\Main.js":"20","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Login\\login.js":"21","C:\\Users\\berna\\hutown\\frontend\\src\\components\\FirstPhoto\\FirstPhoto.js":"22","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Gestion\\Gestion.js":"23","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\pageActions.js":"24","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\pageReducers.js":"25","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\pageConstants.js":"26","C:\\Users\\berna\\hutown\\frontend\\src\\components\\GuestPage\\GuestPage.js":"27","C:\\Users\\berna\\hutown\\frontend\\src\\components\\ThirdPage\\ThirdPage.js":"28","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Tableau\\Tableau.js":"29","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Panier\\Panier.js":"30","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\cartReducers.js":"31","C:\\Users\\berna\\hutown\\frontend\\src\\constants\\cartConstants.js":"32","C:\\Users\\berna\\hutown\\frontend\\src\\actions\\cartActions.js":"33"},{"size":733,"mtime":1611317891287,"results":"34","hashOfConfig":"35"},{"size":1658,"mtime":1612251440568,"results":"36","hashOfConfig":"35"},{"size":375,"mtime":1611317891290,"results":"37","hashOfConfig":"35"},{"size":1070,"mtime":1611215906980,"results":"38","hashOfConfig":"35"},{"size":697,"mtime":1611317891264,"results":"39","hashOfConfig":"35"},{"size":562,"mtime":1610637980157,"results":"40","hashOfConfig":"35"},{"size":4019,"mtime":1612274429888,"results":"41","hashOfConfig":"35"},{"size":2852,"mtime":1612273239143,"results":"42","hashOfConfig":"35"},{"size":3902,"mtime":1612360253647,"results":"43","hashOfConfig":"35"},{"size":1153,"mtime":1612252588151,"results":"44","hashOfConfig":"35"},{"size":2114,"mtime":1611317891289,"results":"45","hashOfConfig":"35"},{"size":742,"mtime":1611317891279,"results":"46","hashOfConfig":"35"},{"size":2268,"mtime":1611317891260,"results":"47","hashOfConfig":"35"},{"size":1586,"mtime":1611218632588,"results":"48","hashOfConfig":"35"},{"size":523,"mtime":1611317891290,"results":"49","hashOfConfig":"35"},{"size":208,"mtime":1611317891283,"results":"50","hashOfConfig":"35"},{"size":763,"mtime":1611317891260,"results":"51","hashOfConfig":"35"},{"size":4953,"mtime":1612266130534,"results":"52","hashOfConfig":"35"},{"size":1629,"mtime":1612365608998,"results":"53","hashOfConfig":"35"},{"size":4463,"mtime":1612273141152,"results":"54","hashOfConfig":"35"},{"size":1601,"mtime":1612273124148,"results":"55","hashOfConfig":"35"},{"size":2131,"mtime":1612273065697,"results":"56","hashOfConfig":"35"},{"size":3160,"mtime":1612273030319,"results":"57","hashOfConfig":"35"},{"size":1747,"mtime":1612110563161,"results":"58","hashOfConfig":"35"},{"size":1522,"mtime":1612107461164,"results":"59","hashOfConfig":"35"},{"size":500,"mtime":1612107360482,"results":"60","hashOfConfig":"35"},{"size":2137,"mtime":1612273089815,"results":"61","hashOfConfig":"35"},{"size":2135,"mtime":1612273252654,"results":"62","hashOfConfig":"35"},{"size":6167,"mtime":1612091803206,"results":"63","hashOfConfig":"35"},{"size":4647,"mtime":1612363653156,"results":"64","hashOfConfig":"35"},{"size":940,"mtime":1612267729776,"results":"65","hashOfConfig":"35"},{"size":371,"mtime":1612265644782,"results":"66","hashOfConfig":"35"},{"size":614,"mtime":1612270905873,"results":"67","hashOfConfig":"35"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},"xwc0lc",{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77","usedDeprecatedRules":"78"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"78"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89","usedDeprecatedRules":"70"},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"100","usedDeprecatedRules":"78"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"105","messages":"106","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"107","messages":"108","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"70"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"130","messages":"131","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"132","usedDeprecatedRules":"133"},{"filePath":"134","messages":"135","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"136","usedDeprecatedRules":"70"},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"143"},"C:\\Users\\berna\\hutown\\frontend\\src\\index.js",[],["144","145"],"C:\\Users\\berna\\hutown\\frontend\\src\\App.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\reportWebVitals.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\header\\Header.js",["146"],"import React from \"react\";\r\nimport { logout } from '../../actions/userActions'\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport './header.css'\r\n\r\nconst Header = () => {\r\n\r\n    const userLogin = useSelector(state => state.userLogin);\r\n    const {userInfo} =userLogin;\r\n    const dispatch = useDispatch();\r\n\r\n    //Gestion de la déconnexion de l'utilisateur.\r\n    const handleLogout = () => {\r\n        dispatch(logout());\r\n    }\r\n\r\n    return  ( \r\n        <div className=\"navbar\">\r\n            <div className=\"logo\">\r\n               <a href='/'>HUTOWN</a> \r\n            </div>\r\n            <ul className=\"nav\">\r\n                <li><a href='/'>Notre travail</a></li>\r\n                <li><a href=\"/shop\">Shop</a></li>\r\n                <li><a href='/contact'>Contact</a></li>\r\n                <li><a href=\"\"><i className=\"fab fa-instagram\"></i></a></li>\r\n            { userInfo &&\r\n                <li><a href=\"/\" className=\"logout\" onClick={handleLogout}>Logout</a></li>\r\n            }\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header; ",["147","148"],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Cursor\\Cursor.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\main\\Main.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Contact\\Contact.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Shop\\Shop.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Product\\Product.js",["149"],"import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios'\r\nimport { Image } from 'cloudinary-react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {detailsProduct, deleteProduct} from '../../actions/productActions'\r\nimport './Product.css';\r\n\r\n\r\nconst Product = (props) => {\r\n\r\n    const [ imageIds, setImageIds ] = useState([]);\r\n\r\n    const productDetails = useSelector(state => state.productDetails);\r\n    const {products, loading, error} = productDetails;\r\n\r\n    const userLogin = useSelector(state => state.userLogin);\r\n    const {userInfo} =userLogin;\r\n\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n\r\n    const productDelete = useSelector(state => state.productDelete);\r\n    const {loading : loadingDelete, success: successDelete, error: errorDelete} = productDelete;\r\n\r\n\r\n    const deleteImage = async (imageId) => {\r\n        console.log(imageId);\r\n        try {\r\n            await axios.post('/api/destroy', {imageId}, {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            loadImages();\r\n            //alert('Suppression réussie')\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/imagesShop');\r\n            const data = await res.data;\r\n            setImageIds(data)\r\n        } catch (err) {\r\n            console.error(err); \r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        dispatch(detailsProduct(props.match.params.id));\r\n        loadImages();\r\n    },[props.match.params.id, dispatch])\r\n\r\n    const deleteHandler = (products, id) => {\r\n       \r\n        dispatch(deleteProduct(products._id));\r\n        deleteImage(id)\r\n        history.push('/shop');\r\n    }\r\n\r\n    const addItem = (id) => {\r\n        \r\n        let cartList = []\r\n        //let cartList = JSON.parse(localStorage.getItem('cart')) || [];\r\n        //console.log(localStorage.getItem('cart'));\r\n        cartList.push(id);\r\n        localStorage.setItem(id, JSON.stringify(cartList));\r\n        console.log(localStorage.getItem(id));\r\n        history.push('/panier')\r\n}\r\n     \r\n\r\n    return(\r\n        loading? <div>Loading</div>:\r\n        error? <div>{error}</div>:\r\n        loadingDelete? <div>Loading delete</div>:\r\n        errorDelete? <div>{error}</div>:\r\n        <div className=\"product-single\">\r\n            \r\n            <div className=\"single-path\">\r\n                <h2>Shop <i className=\"fas fa-chevron-right\"></i>{products.name}</h2>\r\n            </div>\r\n            <div className=\"single-body\">\r\n                \r\n                <div className=\"image-container\">\r\n                {\r\n                    imageIds.map( imageId => {\r\n                        return JSON.stringify(imageId).includes(products.name) ?\r\n                       <div key={products._id}> \r\n                       <Image\r\n                            onClick={() => console.log(imageId)}\r\n                            className=\"product-img\"\r\n                            publicId={imageId}\r\n                            cloudName='drefurx4l'\r\n                        />{userInfo &&\r\n                            <button onClick={() => deleteHandler(products, imageId)}>DELETE</button>\r\n                        }</div> :'' })\r\n                }\r\n                </div>\r\n                <div className=\"product-contenu\">\r\n                    <p className='product-name'>{products.name}</p>\r\n                    <p className='product-price'>{products.price} €</p>\r\n                    <p className=\"product-description\">{products.description}</p>\r\n                    <button onClick={() => addItem(products._id)} className=\"product-cart\">Ajouter au panier</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Product;","C:\\Users\\berna\\hutown\\frontend\\src\\store.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\productReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\productConstants.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\productActions.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\login\\login.js",["150"],"import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { login } from '../../actions/userActions';\r\nimport './login.css'\r\n\r\nconst Login = (props) => {\r\n\r\n    const [email, setEmail] = useState('');\r\n    const [password, setPassword] = useState('');\r\n    const userLogin = useSelector( state => state.userLogin);\r\n    const { loading, userInfo, error} = userLogin;\r\n    const dispatch = useDispatch();\r\n\r\n\r\n    useEffect(() => {\r\n        if(userInfo){\r\n          props.history.push(\"/\")\r\n        }\r\n    },[userInfo])\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(login(email, password));    \r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login-box\">\r\n                { loading && <div>Loading...</div> }\r\n                { error && <div>{error}</div> }\r\n                <form onSubmit={submitHandler}>\r\n                    <div className=\"email\">\r\n                        <p>EMAIL</p>\r\n                        <input type=\"text\" onChange={(e) => setEmail(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"password\">\r\n                        <p>PASSWORD</p>\r\n                        <input type=\"text\" onChange={(e) => setPassword(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"login-btn\">\r\n                        <button type=\"submit\">Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Login;","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\userReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\userConstant.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\userActions.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Modal\\modal.js",["151","152","153"],"import React, { useState } from 'react';\r\nimport axios from 'axios'\r\nimport { useDispatch, useSelector} from 'react-redux'\r\nimport { saveProduct, listProducts } from '../../actions/productActions'\r\nimport './modal.css'\r\n\r\nconst Modal = (props) => {\r\n\r\n    const [ name, setName ] = useState('');\r\n    const [ price, setPrice ] = useState('');\r\n    const [ description, setDescription ] = useState('');\r\n    const [ selectedFile, setSelectedFile] = useState();\r\n    const [ previewSource, setPreviewSource] = useState('');\r\n    const [ fileInputState, setFileInputState] = useState('');\r\n    const [ successMsg, setSuccessMsg ] = useState('')\r\n    const [ errMsg, setErrMsg ] = useState('')\r\n\r\n    const productSave = useSelector(state => state.productSave);\r\n    const {loading : loadingSave, success: successSave, error: errorSave} = productSave;\r\n    \r\n    const dispatch = useDispatch();\r\n\r\n    const submitHandler = (e) => {\r\n        e.preventDefault();\r\n        dispatch(saveProduct({name, price, description}))\r\n        handleSubmitFile();\r\n        closeModal();\r\n    }\r\n    \r\n    const handleFileInputChange = (e) => {\r\n        const file = e.target.files[0];\r\n        previewFile(file);\r\n        setSelectedFile(file);\r\n        setFileInputState(e.target.value);\r\n    };\r\n\r\n    const previewFile = (file) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n            setPreviewSource(reader.result);\r\n        };\r\n    };\r\n\r\n    const handleSubmitFile = () => {\r\n        if (!selectedFile) return;\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(selectedFile);\r\n        reader.onloadend = () => {\r\n            uploadImage(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            console.error('AHHHHHHHH!!');\r\n            setErrMsg('something went wrong!');\r\n        };\r\n    };\r\n\r\n    const uploadImage = async (base64EncodedImage) => {\r\n        try {\r\n            await axios.post('/api/uploadShop', JSON.stringify({ data: base64EncodedImage,\r\n            id: name }), {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            setFileInputState('');\r\n            setPreviewSource('');\r\n            setSuccessMsg('Image uploaded successfully');\r\n            console.log(name, 'affichage du nom');\r\n            setTimeout(function(){\r\n                window.location.reload(false);}, 1000);\r\n                //alert(\"Chargement de l'image effectué\")\r\n            \r\n        } catch (err) {\r\n            console.error(err);\r\n            setErrMsg('Something went wrong!');\r\n        }\r\n    };\r\n    \r\n\r\n    const closeModal = () => {\r\n        let modal = document.getElementById('modal');\r\n        document.body.style.position = '';\r\n        document.body.style.top = '';\r\n        modal.style.display='none';\r\n        dispatch(listProducts());\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"modal\" id='modal'>\r\n            <div className=\"modal-container\">\r\n                {loadingSave && <div>Loading...</div> }\r\n                {errorSave && <div>Erreur</div> }\r\n                <div className=\"close-modal\">\r\n                    <i onClick={closeModal} className=\"far fa-window-close\"></i>\r\n                </div>\r\n                <div className=\"title-modal\">\r\n                    <h2>Ajouter produit</h2>\r\n                </div>\r\n                <form className=\"modal-body\" onSubmit={submitHandler}>\r\n                    <div className=\"modal-name\">\r\n                        <p className=\"titreModal\">Nom:</p>\r\n                        <input type=\"text\" onChange={(e) => setName(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"modal-price\">\r\n                        <p className=\"titreModal\">Price:</p>\r\n                        <input type=\"number\" onChange={(e) => setPrice(e.target.value)}/>\r\n                    </div>\r\n                    <div className=\"modal-description\">\r\n                        <p className=\"titreModal\">Description:</p>\r\n                        <textarea name=\"\" id=\"\" cols=\"40\" rows=\"15\" onChange={(e) => setDescription(e.target.value)}></textarea>\r\n                    </div>\r\n                    <div className=\"modal-image\">\r\n                        <p className=\"titreModal\">Image:</p>\r\n                        <input type=\"file\" value={fileInputState} onChange={handleFileInputChange}/>\r\n                        \r\n                    </div>\r\n                    <div className=\"previewImage\">\r\n                        {previewSource &&\r\n                            <img src={previewSource} alt=\"\"/>\r\n                        }\r\n                    </div>\r\n                        \r\n                    <div className=\"modal-submit\">\r\n                        <button type=\"submit\">SAVE</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Modal;","C:\\Users\\berna\\hutown\\frontend\\src\\components\\Header\\Header.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Main\\Main.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Login\\login.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\FirstPhoto\\FirstPhoto.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Gestion\\Gestion.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\pageActions.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\pageReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\pageConstants.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\GuestPage\\GuestPage.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\ThirdPage\\ThirdPage.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Tableau\\Tableau.js",["154","155"],"import React, { useState, useEffect } from 'react';\r\nimport { Image } from 'cloudinary-react'\r\nimport axios from 'axios'\r\nimport './Tableau.css'\r\n\r\nconst Tableau = () => {\r\n\r\n    const [ fileInputState, setFileInputState] = useState('');\r\n    const [ successMsg, setSuccessMsg ] = useState('')\r\n    const [ errMsg, setErrMsg ] = useState('')\r\n    const [ folder, setFolder ] = useState('');\r\n    const [ selectedFile, setSelectedFile] = useState();\r\n    const [ previewSource, setPreviewSource] = useState('');\r\n\r\n    const [imageIds, setImageIds] = useState();\r\n    const regex = /^first/;\r\n    const regexSecond = /^second/;\r\n    const regexThird = /^third/;\r\n\r\n\r\n    const handleFileInputChange = (e) => {\r\n        const file = e.target.files[0];\r\n        previewFile(file);\r\n        setSelectedFile(file);\r\n        setFileInputState(e.target.value);\r\n    };\r\n\r\n    const previewFile = (file) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onloadend = () => {\r\n            setPreviewSource(reader.result);\r\n        };\r\n    };\r\n\r\n    const handleSubmitFile = (e) => {\r\n        e.preventDefault();\r\n        if (!selectedFile) return;\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(selectedFile);\r\n        reader.onloadend = () => {\r\n            uploadImage(reader.result);\r\n        };\r\n        reader.onerror = () => {\r\n            console.error('AHHHHHHHH!!');\r\n            setErrMsg('something went wrong!');\r\n        };\r\n    };\r\n\r\n    const uploadImage = async (base64EncodedImage) => {\r\n        try {\r\n            await axios.post('/api/upload', JSON.stringify({ data: base64EncodedImage,\r\n            cat: folder }), {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            setFileInputState('');\r\n            setPreviewSource('');\r\n            setSuccessMsg('Image uploaded successfully');\r\n            setTimeout(function(){\r\n                window.location.reload(false);}, 1000);\r\n                alert(\"Chargement de l'image effectué\")\r\n            \r\n        } catch (err) {\r\n            console.error(err);\r\n            setErrMsg('Something went wrong!');\r\n        }\r\n    };\r\n\r\n    const deleteImage = async (imageId) => {\r\n        console.log(imageId);\r\n        try {\r\n            await axios.post('/api/destroy', {imageId}, {\r\n                headers: { 'Content-Type': 'application/json' }\r\n            });\r\n            loadImages();\r\n            alert('Suppression réussie')\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/images/');\r\n            const data = await res.data;\r\n            setImageIds(data);\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n    };\r\n    useEffect(() => {\r\n        loadImages();\r\n    }, []);\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"gestion-tableau\">\r\n\r\n                <form className=\"picture-section\" onSubmit={handleSubmitFile}>\r\n                    <h2>PHOTOS</h2>\r\n                    <div className=\"input-picture\">\r\n                        <input type=\"file\" name=\"\" id=\"\" value={fileInputState} onChange={handleFileInputChange}/>\r\n                        <button type=\"submit\">VALIDER</button>\r\n                    </div>\r\n                    <div className=\"select-cat\">\r\n                    <select name=\"\" id=\"\" value={folder} onChange={ (e) => setFolder(e.target.value)}>\r\n                            <option>Choisir une catégorie</option>\r\n                            <option value=\"first\">Première page</option>\r\n                            <option value=\"second\">Deuxième page</option>\r\n                            <option value=\"third\">Troisième page</option>\r\n                        </select>\r\n                    </div>\r\n                    {previewSource &&\r\n                <img src={previewSource} alt=\"\"/>\r\n            }\r\n\r\n                </form>\r\n\r\n\r\n            <div className=\"firstPageTab\">PREMIERE PAGE</div>\r\n            <div className='tableau'>\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regex.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        onClick={() => deleteImage(imageId)}\r\n                        className=\"photo-tableau\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n            </div>\r\n            <div className=\"firstPageTab\">DEUXIEME PAGE</div>\r\n            <div className='tableau'>\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regexSecond.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        onClick={() => deleteImage(imageId)}\r\n                        className=\"photo-tableau\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n            </div>\r\n            <div className=\"firstPageTab\">TROISIEME PAGE</div>\r\n            <div className='tableau'>\r\n            {imageIds && \r\n                imageIds.map( (imageId, index) => {\r\n                    return regexThird.test(imageId) ?\r\n                    <div className=\"item\" key={index}>\r\n                    <Image\r\n                        onClick={() => deleteImage(imageId)}\r\n                        className=\"photo-tableau\"\r\n                        cloudName='drefurx4l'\r\n                        publicId={imageId}\r\n                        width=\"1600\"\r\n                        crop=\"scale\"\r\n                    /></div> :''\r\n                }\r\n                     )}\r\n            </div>\r\n\r\n\r\n\r\n        </div>\r\n\r\n        \r\n    );\r\n};\r\n\r\nexport default Tableau;",["156","157"],"C:\\Users\\berna\\hutown\\frontend\\src\\components\\Panier\\Panier.js",["158","159"],"import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Image } from 'cloudinary-react'\r\nimport './Panier.css'\r\n\r\nconst Panier = (props) => {\r\n\r\n    const [ imageIds, setImageIds ] = useState([]);\r\n    const [ products, setProducts ] = useState([])\r\n    const [ cart, setCart ] = useState([])\r\n\r\n    let values = [],\r\n        keys = Object.keys(localStorage),\r\n        i = keys.length;\r\n        while ( i-- ) {\r\n            values.push( localStorage.getItem(keys[i]) );\r\n        }\r\n    const loadImages = async () => {\r\n        try {\r\n            const res = await axios.get('/api/imagesShop');\r\n            const data = await res.data;\r\n            setImageIds(data)\r\n        } catch (err) {\r\n            console.error(err); \r\n        }\r\n    };\r\n\r\n    const deleteItemCart = (id) => {\r\n        localStorage.removeItem(id);\r\n        window.location.reload(false);\r\n    }\r\n\r\n    const loadCart = async () => {\r\n        try {\r\n            console.log(products);\r\n            console.log(products.length);\r\n            let testInput = values.join().substring(1).replace(/[[\\]\"]+/g,'').split(',');\r\n            testInput.map( x => cart.push(x));\r\n            let productsList = cart.map(async (id) => { \r\n                const result =  await axios.get('/api/products/' +id)\r\n                    return result.data;\r\n                })\r\n            productsList = await Promise.all(productsList);\r\n            setProducts(productsList)\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    }\r\n \r\n    useEffect(()  => {\r\n        loadCart();\r\n        loadImages();\r\n    }, [])\r\n\r\n    return (\r\n        <div className=\"panier-container\">\r\n            <div className=\"liste-panier\">\r\n                  <h3>\r\n                    PANIER\r\n                  </h3>\r\n                      <div className=\"liste-item\" >\r\n                        <ul>\r\n                        { products.length === 0 ?\r\n                        '':\r\n                            <li>\r\n                                <div className=\"nom-categorie-panier\">\r\n                                    <h4 className=\"nom-item-panier\">PRODUIT</h4>\r\n                                    <h4 className=\"image-item-panier\">IMAGE</h4>\r\n                                    <h4 className=\"qte-item-panier\">QTE</h4>\r\n                                    <h4 className=\"prix-item-panier\">PRIX</h4>\r\n                                </div>\r\n                            </li>}\r\n                            { products.length === 0 ?\r\n                            <div>Le panier est vide</div>\r\n                            : products.map(item =>\r\n                            <li className=\"ligne-item\" key={Math.floor(Math.random() * Math.floor(1550000))}>\r\n                                <div className=\"liste-item-panier\">\r\n                                    <div className=\"title-item-panier\">\r\n                                       <span onClick={() => deleteItemCart(item._id)}>x</span> {item.name}\r\n                                    </div>\r\n                                    <div className=\"panier-image-container\">\r\n                                        {\r\n                                            imageIds.map( imageId => {\r\n                                                return JSON.stringify(imageId).includes(item.name) ?\r\n                                            <Image\r\n                                                    key={imageId}\r\n                                                    className=\"panier-image\"\r\n                                                    publicId={imageId}\r\n                                                    cloudName='drefurx4l'\r\n                                                />\r\n                                                :'' })\r\n                                        }\r\n                                    </div>\r\n                                    <div className=\"panier-qte\">\r\n                                        \r\n                                    </div>\r\n                                    <div className=\"prix-produit\">\r\n                                        {item.price} €\r\n                                    </div>\r\n                                </div>\r\n                            </li>)\r\n                }\r\n                        </ul>\r\n                      </div>\r\n                      { products.length === 0 ?\r\n                        '':    \r\n                <h3 className=\"totalPrice\">\r\n                TOTAL : {products.reduce((a, c) => a + c.price, 0)} €\r\n                </h3>}\r\n    </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Panier;","C:\\Users\\berna\\hutown\\frontend\\src\\reducers\\cartReducers.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\constants\\cartConstants.js",[],"C:\\Users\\berna\\hutown\\frontend\\src\\actions\\cartActions.js",[],["160","161"],{"ruleId":"162","replacedBy":"163"},{"ruleId":"164","replacedBy":"165"},{"ruleId":"166","severity":1,"message":"167","line":26,"column":21,"nodeType":"168","endLine":26,"endColumn":32},{"ruleId":"162","replacedBy":"169"},{"ruleId":"164","replacedBy":"170"},{"ruleId":"171","severity":1,"message":"172","line":24,"column":46,"nodeType":"173","messageId":"174","endLine":24,"endColumn":59},{"ruleId":"175","severity":1,"message":"176","line":19,"column":7,"nodeType":"177","endLine":19,"endColumn":17,"suggestions":"178"},{"ruleId":"171","severity":1,"message":"179","line":15,"column":13,"nodeType":"173","messageId":"174","endLine":15,"endColumn":23},{"ruleId":"171","severity":1,"message":"180","line":16,"column":13,"nodeType":"173","messageId":"174","endLine":16,"endColumn":19},{"ruleId":"171","severity":1,"message":"181","line":19,"column":44,"nodeType":"173","messageId":"174","endLine":19,"endColumn":55},{"ruleId":"171","severity":1,"message":"179","line":9,"column":13,"nodeType":"173","messageId":"174","endLine":9,"endColumn":23},{"ruleId":"171","severity":1,"message":"180","line":10,"column":13,"nodeType":"173","messageId":"174","endLine":10,"endColumn":19},{"ruleId":"162","replacedBy":"182"},{"ruleId":"164","replacedBy":"183"},{"ruleId":"171","severity":1,"message":"184","line":10,"column":19,"nodeType":"173","messageId":"174","endLine":10,"endColumn":26},{"ruleId":"175","severity":1,"message":"185","line":53,"column":8,"nodeType":"177","endLine":53,"endColumn":10,"suggestions":"186"},{"ruleId":"162","replacedBy":"187"},{"ruleId":"164","replacedBy":"188"},"no-native-reassign",["189"],"no-negated-in-lhs",["190"],"jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement",["189"],["190"],"no-unused-vars","'successDelete' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'props.history'. Either include it or remove the dependency array.","ArrayExpression",["191"],"'successMsg' is assigned a value but never used.","'errMsg' is assigned a value but never used.","'successSave' is assigned a value but never used.",["189"],["190"],"'setCart' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'loadCart'. Either include it or remove the dependency array.",["192"],["189"],["190"],"no-global-assign","no-unsafe-negation",{"desc":"193","fix":"194"},{"desc":"195","fix":"196"},"Update the dependencies array to be: [props.history, userInfo]",{"range":"197","text":"198"},"Update the dependencies array to be: [loadCart]",{"range":"199","text":"200"},[566,576],"[props.history, userInfo]",[1623,1625],"[loadCart]"]